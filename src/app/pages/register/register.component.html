<section class="container-fluid d-flex justify-content-center align-items-center" style="height: 100vh;">
  <div class="col-md-4 d-flex justify-content-center">
    <div class="card border-0" style="max-width: 350px; width: 100%;">
      <div class="card-body" style="margin: 0 20px;">
        <h1 class="title text-center text-white mb-4">Registrarse</h1> 
        <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
          <hr style="border-top: 1px solid #dbdbdb; width: 100%;" />
          <div>
            <div class="mb-3">
              <input type="email" formControlName="mail" class="form-control" [ngClass]="{ 'is-invalid': submitted && registerForm.controls['mail'].errors }" placeholder="Email" />
              <div class="text-danger mt-2" *ngIf="submitted && registerForm.controls['mail'].errors">
                Se necesita de un Email.
              </div>
            </div>
            <div class="mb-3">
              <input type="text" formControlName="name" class="form-control" [ngClass]="{ 'is-invalid': submitted && registerForm.controls['name'].errors }" placeholder="Nombre" />
              <div class="text-danger mt-2" *ngIf="submitted && registerForm.controls['name'].errors">
                Se necesita un nombre completo.
              </div>
            </div>
            <div class="mb-3">
              <input type="text" formControlName="lastName" class="form-control" [ngClass]="{ 'is-invalid': submitted && registerForm.controls['lastName'].errors }" placeholder="Apellido" />
              <div class="text-danger mt-2" *ngIf="submitted && registerForm.controls['lastName'].errors">
                Se necesita  de un apellido.
              </div>
            </div>
            <div class="input-group mb-3 ">
              <input type="password" [type]="showPassword ? 'text' : 'password'" formControlName="password" class="form-control " [ngClass]="{ 'is-invalid': submitted && registerForm.controls['password'].errors }" placeholder="Contraseña" />
              <button class="btn btn-light border-end-0 "  type="button" id="first-icon-click" (click)="togglePasswordVisibility('password')">
                <fa-icon [icon]="showIcon ? faEye : faEyeSlash"></fa-icon>
              </button>
              <div class="text-danger mt-2" *ngIf="submitted && registerForm.controls['password'].errors?.['required']">
                Se necesita de una Contraseña.
              </div>
              <div class="text-danger mt-2" *ngIf="submitted && (registerForm.controls['password'].errors?.['minlength'] || registerForm.controls['password'].errors?.['pattern'])">
                Se necesita de una Contraseña que sea entre 8 y 16 caracteres, que contenga al menos una letra minúscula, una letra mayúscula, un dígito y un carácter especial.
              </div>
            </div>
            <div class="input-group mb-3">
              <input type="password" [type]="showSecondPassword  ? 'text' : 'password'" formControlName="secondPassword" class="form-control" [ngClass]="{ 'is-invalid': submitted && registerForm.controls['secondPassword'].errors }" placeholder="Repetir contraseña" />
              <button class="btn btn-light border-end-0" type="button" id="second-icon-click" (click)="togglePasswordVisibility('secondPassword')" >
                <fa-icon [icon]="showSecondIcon ? faEye : faEyeSlash"></fa-icon>
              </button>
              <div class="text-danger mt-2" *ngIf="submitted && registerForm.controls['secondPassword'].errors?.['required']">
                Se necesita que ambas contraseñas coincidan.
              </div>
            </div>
          </div>
          <button class="btn btn-primary btn-lg btn-block w-100 mb-lg-5" style="margin-top: 50px;">Registrarse</button>
        </form>

        <div class="mt-3 text-center">
          <hr style="border-top: 1px solid #dbdbdb; width: 100%" />
          <a href="" class="text-info text-decoration-none">¿Ya tienes una cuenta? Inicia sesión.</a>
          <hr style="border-top: 1px solid #dbdbdb; width: 100%" />
        </div>
      </div>
    </div>
  </div>
</section>
